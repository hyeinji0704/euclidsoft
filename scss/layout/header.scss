@use '../abstracts/colors' as *;
@use '../base/base.scss' as *;
@use '../base/typography' as *;
@use '../abstracts/variables' as *;

/* =======================================================================================
   header  style 1
======================================================================================= */
// .header {
//   position: fixed;
//   left: 0;
//   top: 0;
//   z-index: 20;
//   width: 100%;
//   background-color: $brand-blue-bg-dark;
//   height: $header-height;
//   color: $white;
//   // animation: dropUp 0.5s cubic-bezier(0.215, 0.61, 0.355, 1);

//   opacity: 1;
//   transform: translateY(0);
//   transition:
//     opacity 0.4s ease,
//     transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1),
//     box-shadow 0.4s ease;

//   // border-bottom: 1px solid $background-color-lighter;

//   &.active {
//     transition-delay: .2s;

//     &::before {
//       content: "";
//       display: block;
//       width: 100%;
//       height: 1px;
//       z-index: 100;
//       background-color: rgba($color: $white, $alpha: .03);
//       position: absolute;
//       left: 0;
//       top: 15.1rem;
//     }


//     .topmenu {
//       .depth1 {
//         a.active::before {
//           opacity: .3;
//         }

//         &.active {
//           a.active::before {
//             opacity: 1;
//           }
//         }
//       }
//     }
//   }
 
//   // &.fixed {
//   //   position: fixed;
//   //   top: 0;
//   //   left: 0;
//   //   opacity: 1;
//   //   transform: translateY(0);
//   //   // animation: dropDown 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);
//   //   box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.02);
//   // }

//   // &.fixed-entering {
//   //   opacity: 0;
//   //   transform: translateY(-20px);
//   // }
  
//   .container {
//     max-width: 1400px;
//     margin: 0 auto;
//     position: relative;

//     &::after {
//       content: "";
//       display: block;
//       clear: both;
//     }
//   }
  



//   .logo {
//     float: left;
//     margin: 5rem 0;
//     width: 29.5rem;
//     height: 4.9rem;

//     a {
//       display: block;
//       height: 100%;
//       background: url(../img/logo_w.svg) 0 0/auto 4.9rem no-repeat;
//       position: relative;
//       z-index: 1;
//     }
//   }

//   .gnb_area {
//     background-color: $brand-blue-bg-dark;
//     position: relative;
//     .tnb_area {
//       position: absolute;
//       top: 2rem;
//       right: 0;
//     }

//     .gnb_area__inner {
//       padding-right: 30.1rem;
//       position: relative;
//     }
    
//     .gnb_left {
//         float: left;
//         width: 100%;
//     }
//     .gnb_search {
//       position: absolute;
//       top: 6.4rem;
//       right: 0;
//     }
//   }

//   .nav {
//     float: right;
//     width: calc(100% - 30rem);
//     position: relative;

//     .container {
//       z-index: 1;
//     }
//   }
// }

// // @keyframes dropUp {
// //   0% { transform: translateY(-100%); }
// //   100% { transform: translateY(0); }
// // }

// // @keyframes dropDown {
// //   0% { transform: translateY(-100%); }
// //   100% { transform: translateY(0); }
// // }

// .topmenu {
//   display: flex;
//   justify-content: center;

//   .depth1 {
//     flex: 1 1 20%;

//     > a {
//       display: block;
//       padding-top: 0.5rem;
//       width: 100%;
//       white-space: nowrap;
//       text-align: center;
//       position: relative;
//       line-height: $header-height;
//       letter-spacing: -.025em;
//       font-size: 2rem;
//       font-weight: 500;
//       color: $white;
//       span {
//         &.newtab {
//           padding-right: 2.3rem;
//           position: relative;
//           &::after {
//             position: absolute;
//             top: 0.5rem;
//             right: 0;
//             width: 1.5rem;
//             height: 1.5rem;
//             background: url(../../img/icon/ic-newtab.svg) no-repeat center;
//             content: "";
//           }
//         }
//       }

//       &::before {
//         content: "";
//         position: absolute;
//         left: 0;
//         bottom: 0;
//         height: 3px;
//         width: 0;
//         background-color: $brand-blue-primary;
//         transition: .2s;
//         z-index: 10;
//       }
//     }

//     &.active {
//       > a::before {
//         width: 100%;
//       }

//       .submenu {
//         opacity: 1;
//         visibility: visible;
//         max-height: 100rem;
//         min-height: 20rem;
//         transition-delay: .2s;
//         color: $text-color-primary;
        
//       }
//     }
//   }

//   .submenu {
//     transition: 0.35s, max-height 1.35s cubic-bezier(0.13, 0.67, 0.59, 0.98);
//     opacity: 0;
//     visibility: hidden;
//     overflow: hidden;
//     max-height: 0;
//     position: absolute;
//     left: 0;
//     top: $header-height;
//     z-index: 20;
//     width: 100%;
//     color: #fff !important;
//     height: calc(100% - $header-height + 0.1rem );
//     font-weight: 600;
    

//     .depth2 {
//       position: relative;
//       overflow-y: auto;

//       > li {
//         flex: 0 0 23.2%;
//         position: relative;

//         > a {
//           display: block;
//           padding: 1rem 1.7rem;
//           font-size: 1.4rem;
//           font-weight: 500;
//         }

//         .depth3 {
//           margin: 0 0 0.6rem .3rem;
//           color: #ccc;

//           > li > a {
//             display: block;
//             margin: 0 .5rem 0 .2rem;
//             padding: .2rem 2.rem;
//             position: relative;
//             font-size: 1.4rem;
//             font-weight: 400;

//             &::before {
//               position: absolute;
//               left: 12px;
//               top: 50%;
//               transform: translateY(-50%);
//               width: 3px;
//               height: 3px;
//               background-color: #ccc;
//               content: "";
//               border-radius: 50%;
//             }

//             &:focus {
//               outline: 2px solid $white;
//               border-radius: 5px;
//             }

//           }
//         }
//       }
//     }
//   }

//   &.fullmenu {
//     .depth1 {
//       > a::before {
//         width: 0;
//       }

//       &:hover, &.on {
//         > a {
//           color: $white;
//           background-color: rgba($color: $white, $alpha: 0.05);

//           &::before {
//             width: 100%;
//           }

//           span::after {
//             opacity: 1;
//             transform: scale(1);
//           }
//         }

//         .submenu {
//           color: $text-color-primary;
//           transition: background-color .3s;
//           background-color: rgba($color: $white, $alpha: 0.05);

//           .depth2 {
//             a {
//               &:hover {
//                 background-color: rgba($color: $white, $alpha: .1);
//               }
//             }

//             .depth3 a {
//                 &:hover {
//                     background-color: transparent;
//                     text-decoration: underline;
//                 }
              
//             }
//           }
//         }
//       }

//       &.active .submenu {
//         transition: padding 0.02s, opacity 0.3s, max-height 1s cubic-bezier(0.13, 0.67, 0.59, 0.98);
//         min-height: inherit;
//         transition-delay: .2s;
//         padding-bottom: 1rem;
//       }
//     }

//     .submenu {
//       transition: .35s;
//       width: auto;
//       position: static;
//       left: auto;
//       background-color: transparent;
//       box-shadow: none;

//       .depth2 {
//         padding-left: 0;
//         max-width: inherit;
//         display: block;
//         margin: 0;

//         > li > a {
//           border: 0;

//           &:focus {
//             outline: 2px solid $white;
//             border-radius: 5px;
//           }
//         }
//       }
//     }
//   }
// }






// .tnb_util {
//         display: flex;
//         align-items: center;
//         justify-content: flex-end;
//         gap: 1.6rem;
//         .login_area {
//             display: flex;
//             align-items: center;
//             gap: 1.6rem;
//             color: #A2ABC2;
//             a {
//               // width: 22px;
//               // height: 22px;
              
//               // &.btn_login {
//               //   background: url(../img/icon/ic-login.svg) no-repeat center left;
//               // }
//               // &.btn_logout {
//               //   background: url(../img/icon/ic-logout.svg) no-repeat center left;
//               // }
//             }
//         }
//         .logged_out {
//           display: none; 
//             .btn_login {
//                 font-size: $font-size-16;
//                 font-weight: 500;

//             }
            
//         }
//         .logged_in {
//           // display: none; 
//             .user_info {
//                 display: flex;
//                 align-items: center;
//                 gap: 0.7rem;
//                 padding-right: 1.7rem;
//                 position: relative;

//                 &::after {
//                   position: absolute;
//                   top: 50%;
//                   right: 0;
//                   width: 0.15rem;
//                   height: 1.5rem;
//                   background-color: #314064;
//                   transform: translateY(-50%);
//                   content: "";
//                 }

//                 .user_thumb {
//                     width: 1rem;
//                     height: 1.1rem;
//                     display: flex;
//                     justify-content: center;
//                     align-items: center;
//                 }

//                 .user_name {
//                     font-size: $font-size-16;
//                     strong {
//                         font-weight: 500;
//                     }
//                 }
//             }

//             .btn_logout {
//                 font-weight: 500;
//             }
//         }
        
//     }

// .gnb_search_inner {
//     position: relative;
//     width: 27.1rem;
//     border-radius: 0.5rem;
//     outline-color: #131C2C;
//     background: $white;
//     input {
//       padding: 0.6rem 1.7rem;
//       color: $text-color-primary;
//       &::placeholder {
//         color: #A2A1BB;
//       }
//       &:placeholder-shown {
//         outline-color: #131C2C;
//       }

//       &:not(:placeholder-shown):not(:focus) {
//         outline-color: #131C2C;
//       }

//       &:focus {
//         outline: 1px solid #131C2C;
//       }
//     }
//     .btn_sch {
//       position: absolute;
//       top: 50%;
//       right: 0;
//       transform: translateY(-50%);
//       width: 4rem;
//       height: 4rem;
//       display: flex;
//       align-items: center;
//       justify-content: center;
//       span {
//           font-size: 0;
//           line-height: 0;
//       }
//     }
// }



/* =======================================================================================
   header  style 2
======================================================================================= */


.header {
  position: fixed;
  left: 0;
  top: 0;
  z-index: 9999;
  width: 100%;
  background-color: $brand-blue-bg-dark;
  height: $header-height;
  color: $white;
  transition: background-color 0.5s ease, color 0.5s ease; // fixed 전환용

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: $header-height;
    width: 100%;
    height: 0;
    background-color: transparent;
    z-index: 1;
    box-shadow: none;
    transition: height 0.4s ease, background-color 0.3s ease, box-shadow 0.3s ease;
  }


  .gnb_area {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    position: relative;
    z-index: 5;

    .tnb_area {
      position: absolute;
      top: 2rem;
      right: 0;

      .tnb_util {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 1.6rem;
        .login_area {
            display: flex;
            align-items: center;
            gap: 1.6rem;
            color: #A2ABC2;
        }
        .logged_out {
          display: none; 
            .btn_login {
                font-size: $font-size-16;
                font-weight: 500;

            }
            
        }
        .logged_in {
          // display: none; 
          font-weight: 500;
            .user_info {
                display: flex;
                align-items: center;
                gap: 0.7rem;
                

                .user_thumb {
                    width: 1rem;
                    height: 1.1rem;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                .user_name {
                    font-size: $font-size-16;
                    strong {
                        font-weight: 500;
                    }
                }
            }
            .member_link {
              padding-right: 1.7rem;
              position: relative;

              &::after {
                position: absolute;
                top: 50%;
                right: 0;
                width: 0.15rem;
                height: 1.5rem;
                background-color: #314064;
                transform: translateY(-50%);
                content: "";
              }
            }
        }
        
    }

    }

    .gnb {
      ul {
        &.depth01 {
          display: flex;
          text-align: center;

          > li {
            width: 17rem;

            a {
              display: block;

              span {
                position: relative;
                display: inline-block;
                line-height: $header-height;
                font-size: 2.1rem;
                font-weight: 600;
                padding: 0 2rem;

                // 밑줄 애니메이션
                &::after {
                  content: '';
                  position: absolute;
                  left: 50%;
                  bottom: 0;
                  width: 100%;
                  height: 7px;
                  background-color: $brand-blue-primary;
                  transform: translateX(-50%) scaleX(0);
                  transform-origin: center;
                  transition: transform 0.4s ease;
                }

                // 새창 아이콘
                &.newtab {
                  padding-right: 4.3rem;
                  position: relative;

                  &::before {
                    content: '';
                    position: absolute;
                    top: 50%;
                    right: 2rem;
                    width: 1.5rem;
                    height: 1.5rem;
                    background: url(../img/icon/ic-newtab.svg) no-repeat center;
                    transform: translateY(-50%);
                  }
                }
              }
            }

            // hover 또는 on class일 때 밑줄 나타나게
            &:hover > a span::after,
            &.on > a span::after,
            &[data-menu="on"] > a span::after {
              transform: translateX(-50%) scaleX(1);
            }
          }
        }

        // 이하 depth02, depth03는 변경 없이 유지
        &.depth02 {
          display: none;
          height: 500px;
          overflow: hidden;
          padding: 2.8rem 0 6rem 0;

          > li {
            padding: 0 2rem;
            color: $text-color-tertiary;

            &:hover {
              color: $brand-blue-primary;
            }

            &:not(:first-child) {
              margin-top: 1.2rem;
            }

            a {
              word-break: keep-all;
              display: block;
              font-size: 1.7rem;
              font-weight: 500;
            }
          }
        }

        &.depth03 {
          text-align: center;
          padding-top: 1.4rem;

          > li {
            color: $text-color-subtle;

            &:hover {
              color: $brand-blue-primary;
            }

            &:not(:first-child) {
              margin-top: 1rem;
            }

            a {
              font-size: 1.5rem;
              font-weight: 400;
            }
          }
        }
      }
    }     


  }

  .logo {
    margin: 5rem 0;
    a {
      display: block;
      width: 29.5rem;
      height: 4.9rem;
      background: url(../img/logo_w.svg) 0 0/auto 4.9rem no-repeat;
    }
  }

  .gnb_search {
    margin-top: 6rem;
      .gnb_search_inner {
        position: relative;
        width: 24rem;
        border-radius: 0.5rem;
        outline-color: #131C2C;
        background: $white;
        input {
          padding: 0.6rem 1.7rem;
          color: $text-color-primary;
          &::placeholder {
            color: #A2A1BB;
          }
          &:placeholder-shown {
            outline-color: #131C2C;
          }

          &:not(:placeholder-shown):not(:focus) {
            outline-color: #131C2C;
          }

          &:focus {
            outline: 1px solid #131C2C;
          }
        }
        .btn_sch {
          position: absolute;
          top: 50%;
          right: 0;
          transform: translateY(-50%);
          width: 4rem;
          height: 4rem;
          display: flex;
          align-items: center;
          justify-content: center;
          span {
              font-size: 0;
              line-height: 0;
          }
        }
      }
  }

  .gnb_bg {
    display: none;
    position: fixed;
    top: $header-height;
    left: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    background: #000;
    opacity: 0.5;
    content:'';
    transition: all 0.3s ease-out;
    -webkit-transition: all 0.3s ease-out;
    -o-transition: all 0.3s ease-out;
    -moz-transition: all 0.3s ease-out;
  }

  /*********** 메뉴에 오버했을 때  -- Start ***********/
  &.menu_over {
    z-index: 9999 !important;
    background-color: $brand-blue-bg-dark;
    transition-delay: 0.6s; // 부드러운 딜레이
    
    &::before {
      position: absolute;
      left: 0;
      top: $header-height;
      z-index: 4;/*맨 아래*/
      width: 100%;
      height: 500px;
      background-color: #fff;
      content: "";
      transition: height 0.4s ease, background-color 0.3s ease, box-shadow 0.3s ease;
    }
    @keyframes expandHeight {
      from {
        height: 0;
      }
      to {
        height: 500px;
      }
    }
    
    &::after {
      position: absolute;
        left: 0;
        top: $header-height;
        z-index: 10;/*맨 아래*/
        width: 100%;
        height: 1px;
        background-color: #eee;
        content: "";
    }

    .gnb {
      position: relative;
      ul {

        &.depth01 {
          >li {
            a {
              span {
                &.sub04 {
                  line-height: inherit;
                  font-size: inherit;
                  color: inherit;
                  font-weight: inherit;
                  &::before {
                    background: url(../img/icon/ic-newtab_b.svg) no-repeat center;
                  }
                }
              }
            } 
          }
        }

        &.depth02 {
          display: block;
        }


        
      }
    }

    .gnb_bg {
      display: block;
      z-index: 2;
    }
   
  }



  /*********** 메뉴에 상단에 고정했을 때  -- start ***********/
  // &.fixed {
  //   color: $text-color-primary;
  //   background-color: #fff;
  //   box-shadow: 0 10px 10px rgba(0, 0, 0, 0.02);
    

  //   .logo a {
  //     background: url(../img/logo.svg) 0 0/auto 4.9rem no-repeat;
  //   }

  //   .gnb_area {
  //     .tnb_area {
  //       .tnb_util {
  //         .login_area {
  //             color: $brand-blue-bg-dark;
  //         }
  //         .logged_in {
  //           .user_info {
  //             &::after {
  //               background-color: #ddd;
  //             }
  //           }
  //         } 
  //       }
  //     }
  //   }
  //   .gnb {
  //     ul {
  //       &.depth01 {
  //         >li {
  //           &.on, &[data-menu="on"] {
  //             color: $brand-blue-primary;
  //           }
  //           a {
  //             span {
  //               &.sub04 {
  //                 line-height: inherit;
  //                 font-size: inherit;
  //                 color: inherit;
  //                 font-weight: inherit;
  //                 &::before {
  //                   background: url(../img/icon/ic-newtab_b.svg) no-repeat center;
  //                 }
  //               }
  //             }
  //           } 
  //         }
  //       }
  //     }
      
  //   }
  //   .gnb_search {
  //     .gnb_search_inner {
  //       input{
  //         &:placeholder-shown {
  //             outline-color: #ddd;
  //         }

  //         &:not(:placeholder-shown):not(:focus) {
  //           outline-color: #ddd;
  //         }

  //         &:focus {
  //           outline: 1px solid #ddd;
  //         }
  //       }
        
  //     } 
  //   }
    

    
  // }

}